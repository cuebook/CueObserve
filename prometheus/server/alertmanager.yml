global:
  resolve_timeout: 2s 
receivers:
  - name: 'slack-notifications'
    slack_configs:
      - send_resolved: false
        text: "{{ .CommonAnnotations.description }}"
        title: "{{ .CommonAnnotations.title }} "
        username: 'Prometheus'
        api_url: "https://hooks.slack.com/services/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"
        channel: '#test'

  - name: 'slack-2'
    slack_configs:
      - send_resolved: false
        text: "{{ .CommonAnnotations.description }}"
        title: "{{ .CommonAnnotations.title }} "
        username: 'Prometheus'
        api_url: "https://hooks.slack.com/services/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"
        channel: '#testapp'
    
  - name: 'email-notifications'
    email_configs:
    - to: praveen@cuebook.ai,kumarpraveen7393@gmail.com
      from: cuebook.ai@gmail.com
      smarthost: smtp.gmail.com:587
      auth_username: cuebook.ai@gmail.com
      auth_identity: cuebook.ai@gmail.com
      auth_password: cuebook.ai@123
      send_resolved: false

route:
  group_wait: 1s
  group_interval: 1s
  repeat_interval: 24h
  group_by: ['alertname']
  receiver: 'slack-notifications'

  routes:
  - receiver: 'slack-notifications'
    group_wait: 1s
    match_re:
      service: anomalyAlert
    continue: true

  - receiver: 'email-notifications'
    group_wait: 1s
    match_re:
      service: anomalyAlert
    continue: true

  - receiver: 'slack-2'
    group_wait: 1s
    match_re:
      service: appAlert
    continue: true


  

